@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers
@{
	var userNickname = Context.Session.GetString("UserNickname") ?? "Guest";
}
<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="description" content="Responsive Admin &amp; Dashboard Template based on Bootstrap 5">
	<meta name="author" content="AdminKit">
	<meta name="keywords" content="adminkit, bootstrap, bootstrap 5, admin, dashboard, template, responsive, css, sass, html, theme, front-end, ui kit, web">

	<link rel="preconnect" href="https://fonts.gstatic.com">
	

	<link rel="canonical" href="https://demo-basic.adminkit.io/pages-blank.html" />

	<title>Lmao Chua he</title>

	<link href="../../LayoutAdmin/css/app.css" rel="stylesheet">
	<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&display=swap" rel="stylesheet">
</head>
<body>
	<div class="wrapper">
		<nav id="sidebar" class="sidebar js-sidebar">
			<div class="sidebar-content js-simplebar">
				<a class="sidebar-brand" href="index.html">
					<span class="align-middle">ADMIN PAGE</span>
				</a>

				<ul class="sidebar-nav">
					<li class="sidebar-header">
						Manage product,combo
					</li>

					<li class="sidebar-item">
						<a asp-area="Admin" asp-controller="HomeAdmin" asp-action="ListProduct" class="sidebar-link">
							<i class="fa-solid fa-pizza-slice"></i> <span class="align-middle">Product</span>
						</a>
					</li>	
					
				</ul>		
			</div>
		</nav>

		<div class="main">
			<nav class="navbar navbar-expand navbar-light navbar-bg">
				

				<div class="navbar-collapse collapse">
					<ul class="navbar-nav navbar-align">						
						<li class="nav-item dropdown">

							<a class="nav-link dropdown-toggle d-none d-sm-inline-block" href="#" >
								 <span class="text-dark"> Welcome! @userNickname</span>
							</a>
							<a asp-controller="Login" asp-action="LogoutUsual">
								<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
									 stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
									 class="feather feather-log-out align-middle me-2">
									<path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4">
									</path>
									<polyline points="16 17 21 12 16 7"></polyline>
									<line x1="21" y1="12" x2="9" y2="12"></line>
								</svg>
							</a>
							
						</li>
					</ul>
				</div>
			</nav>

			<main class="content">
				<div class="container-fluid p-0">

					@RenderBody()

				</div>
			</main>

			
		</div>
	</div>
	<script src="https://kit.fontawesome.com/7eca240bc3.js" crossorigin="anonymous"></script>
	<script src="../../LayoutAdmin/js/app.js"></script>
	<script>
		document.addEventListener("DOMContentLoaded", function () {
			// Lấy tên controller và action từ URL
			var url = window.location.pathname;
			var controller = url.split('/')[2];
			var action = url.split('/')[3];

			// Lặp qua từng thẻ <li> trong sidebar
			var sidebarItems = document.querySelectorAll('.sidebar-item');
			sidebarItems.forEach(function (item) {
				// Lấy thẻ <a> trong từng thẻ <li>
				var anchor = item.querySelector('a');
				if (anchor) {
					// Lấy asp-controller và asp-action từ thẻ <a>
					var itemController = anchor.getAttribute('asp-controller');
					var itemAction = anchor.getAttribute('asp-action');

					// Kiểm tra xem controller và action của mỗi thẻ có trùng khớp với trang hiện tại không
					if (controller === itemController && action === itemAction) {
						// Nếu trùng khớp, thêm lớp "active" vào thẻ <li>
						item.classList.add('active');
					}
				}
			});
		});


	</script>


</body>
</html>
